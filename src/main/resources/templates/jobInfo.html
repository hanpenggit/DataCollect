<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>编辑任务</title>
    <link th:href="@{/css/layui.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/css/layer.css}" rel="stylesheet" type="text/css" />
    <script type="text/javascript" th:src="@{/js/layui.js}"></script>
    <script type="text/javascript" th:src="@{/js/jquery.js}"></script>
    <script type="text/javascript" th:src="@{/js/lay/modules/layer.js}"></script>
    <style>
        .layui-main {
            width: 650px;
            margin-top: 14px;
        }
        .layui-form-text{
            width: 635px;
        }
        .layui-form-label{
            width: 125px!important;
        }
    </style>
</head>
<body>
<div class="layui-main">
<form class="layui-form layui-form-pane" action="">
    <div class="layui-form-item">
        <label class="layui-form-label">单位名称</label>
        <div class="layui-input-inline">
            <input type="text" name="UNITNAME" th:value="${UNITNAME}" placeholder="单位名称" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">ID</label>
        <div class="layui-input-inline">
            <input type="text" name="ID" autocomplete="off" class="layui-input" th:value="${ID}">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">源端IP</label>
        <div class="layui-input-inline">
            <input type="text" name="S_IP" th:value="${S_IP}" placeholder="源端IP" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">目的端IP</label>
        <div class="layui-input-inline">
            <input type="text" name="T_IP" th:value="${T_IP}" placeholder="目的端IP" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">源端SID</label>
        <div class="layui-input-inline">
            <input type="text" name="S_SID" th:value="${S_SID}" placeholder="源端SID" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">目的端SID</label>
        <div class="layui-input-inline">
            <input type="text" name="T_SID" th:value="${T_SID}" placeholder="目的端SID" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">源端端口号</label>
        <div class="layui-input-inline">
            <input type="text" name="S_PORT" th:value="${S_PORT}" placeholder="源端端口号" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">目的端口号</label>
        <div class="layui-input-inline">
            <input type="text" name="T_PORT" th:value="${T_PORT}" placeholder="目的端口号" autocomplete="off" class="layui-input">
        </div>

    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">源端用户名</label>
        <div class="layui-input-inline">
            <input type="text" name="S_ULOGIN" th:value="${S_ULOGIN}" placeholder="源端用户名" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">目的端用户名</label>
        <div class="layui-input-inline">
            <input type="text" name="T_ULOGIN" th:value="${T_ULOGIN}" placeholder="目的端用户名" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">源端密码</label>
        <div class="layui-input-inline">
            <input type="text" name="S_PLOGIN" th:value="${S_PLOGIN}" placeholder="源端密码" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">目的端密码</label>
        <div class="layui-input-inline">
            <input type="text" name="T_PLOGIN" th:value="${T_PLOGIN}" placeholder="目的端密码" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">源端所有者</label>
        <div class="layui-input-inline">
            <input type="text" name="S_OWNER" th:value="${S_OWNER}" placeholder="源端所有者" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">目的端所有者</label>
        <div class="layui-input-inline">
            <input type="text" name="T_OWNER" th:value="${T_OWNER}" placeholder="目的端所有者" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">源端表名</label>
        <div class="layui-input-inline">
            <input type="text" name="S_TABLE" th:value="${S_TABLE}" placeholder="源端表名" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">目的端表名</label>
        <div class="layui-input-inline">
            <input type="text" name="T_TABLE" th:value="${T_TABLE}" placeholder="目的端表名" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">源端表主键</label>
        <div class="layui-input-inline">
            <input type="text" name="S_PK" th:value="${S_PK}" placeholder="源端表主键" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">目的端表主键</label>
        <div class="layui-input-inline">
            <input type="text" name="T_PK" th:value="${T_PK}" placeholder="目的端表主键" autocomplete="off" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item layui-form-text">
        <label class="layui-form-label">源端表列名</label>
        <div class="layui-input-block">
            <textarea placeholder="请输入内容" th:text="${S_COLS}" class="layui-textarea" name="S_COLS"></textarea>
        </div>
    </div>
    <div class="layui-form-item layui-form-text">
        <label class="layui-form-label">目的端表列名</label>
        <div class="layui-input-block">
            <textarea placeholder="请输入内容" th:text="${T_COLS}" class="layui-textarea" name="T_COLS"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">物化视图名称</label>
        <div class="layui-input-inline">
            <input type="text" name="S_MVLOG" th:value="${S_MVLOG}" placeholder="物化视图名称" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">任务ID</label>
        <div class="layui-input-inline">
            <input type="text" name="JOB_ID" th:value="${JOB_ID}" placeholder="任务ID" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">INPUT_COND</label>
        <div class="layui-input-inline">
            <input type="text" name="INPUT_COND" th:value="${INPUT_COND}" placeholder="INPUT_COND" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">MVIEW_COND</label>
        <div class="layui-input-inline">
            <input type="text" name="MVIEW_COND" th:value="${MVIEW_COND}" placeholder="MVIEW_COND" autocomplete="off" class="layui-input">
        </div>
    </div>
</form>
</div>
<script th:inline="none" type="text/javascript">
    //当前页面的所需要的参数,公共变量只有这一个对象
    var current_params={
    };


    function submitData(){
        // var data=$("form").serialize();
        var data=[];
        $("form input[type='text']").each(function(){
            var name=$(this).attr("name");
            var value=$(this).val();
            data.push({
                name:name,
                value:value
            })
        });
        $("form textarea").each(function(){
            var name=$(this).attr("name");
            var value=$(this).val();
            data.push({
                name:name,
                value:value
            })
        });
        $.ajax({
            url: "/editJobInfo",
            method:"post",
            beforeSend:function(){
                layerindex = layer.load(0, {shade: false});
            },
            data:data,
            success: function (result) {
                if(result>0){
                    layer.msg('执行成功');
                    parent.window.refreshData();
                }else{
                    layer.msg('执行失败');
                }
                layer.close(layerindex);
            }
        });
    }

</script>

</body>
</html>